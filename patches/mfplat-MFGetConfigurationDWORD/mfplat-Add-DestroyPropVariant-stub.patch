From 952b1a97b70dd5247631dbbf29ca2d361d047ed6 Mon Sep 17 00:00:00 2001
From: Andrey Gusev <andrey.goosev@gmail.com>
Date: Sun, 1 Sep 2019 18:34:53 +0300
Subject: [PATCH] mfplat: Add DestroyPropVariant stub.

---
 dlls/mfplat/main.c      | 13 +++++++++++++
 dlls/mfplat/mfplat.spec |  2 +-
 2 files changed, 14 insertions(+), 1 deletion(-)

diff --git a/dlls/mfplat/main.c b/dlls/mfplat/main.c
index 42aecb5247..a74d472d15 100644
--- a/dlls/mfplat/main.c
+++ b/dlls/mfplat/main.c
@@ -7629,6 +7629,19 @@ HRESULT WINAPI CreatePropertyStore(IPropertyStore **store)
     return S_OK;
 }
 
+/***********************************************************************
+ *      DestroyPropVariant (mfplat.@)
+ */
+HRESULT WINAPI DestroyPropVariant(PROPVARIANT *pv)
+{
+    FIXME("%p stub!\n", pv);
+
+    if (!pv)
+        return E_POINTER;
+
+    return E_NOTIMPL;
+}
+
 struct dxgi_device_manager
 {
     IMFDXGIDeviceManager IMFDXGIDeviceManager_iface;
diff --git a/dlls/mfplat/mfplat.spec b/dlls/mfplat/mfplat.spec
index 3e1b5e6376..18cefa936b 100644
--- a/dlls/mfplat/mfplat.spec
+++ b/dlls/mfplat/mfplat.spec
@@ -11,7 +11,7 @@
 @ stub CopyPropVariant
 @ stub CreatePropVariant
 @ stdcall CreatePropertyStore(ptr)
-@ stub DestroyPropVariant
+@ stdcall DestroyPropVariant(ptr)
 @ stub GetAMSubtypeFromD3DFormat
 @ stub GetD3DFormatFromMFSubtype
 @ stub LFGetGlobalPool
-- 
2.21.0

