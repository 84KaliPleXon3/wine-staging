From ff5865722fe9a3b20a1a64e64af55b166b2bfc32 Mon Sep 17 00:00:00 2001
From: Gijs Vermeulen <gijsvrm@gmail.com>
Date: Thu, 22 Nov 2018 10:28:22 +1100
Subject: [PATCH] qwave: Added QOSCreateHandle stub

Wine-Bug: https://bugs.winehq.org/show_bug.cgi?id=46174
---
 dlls/qwave/main.c | 8 ++++++++
 include/qos2.h    | 2 ++
 2 files changed, 10 insertions(+)

diff --git a/dlls/qwave/main.c b/dlls/qwave/main.c
index ce1cfbd..4366c32 100644
--- a/dlls/qwave/main.c
+++ b/dlls/qwave/main.c
@@ -21,6 +21,7 @@
 
 #include "windef.h"
 #include "winbase.h"
+#include "qos2.h"
 #include "wine/debug.h"
 
 WINE_DEFAULT_DEBUG_CHANNEL(qwave);
@@ -39,3 +40,10 @@ BOOL WINAPI DllMain(HINSTANCE hInstDLL, DWORD reason, LPVOID lpv)
     }
     return TRUE;
 }
+
+BOOL WINAPI QOSCreateHandle(QOS_VERSION *version, HANDLE *handle)
+{
+    FIXME("%p %p stub!\n", version, handle);
+    SetLastError(ERROR_SERVICE_DEPENDENCY_FAIL);
+    return FALSE;
+}
diff --git a/include/qos2.h b/include/qos2.h
index ac486f7..f2e68f5 100644
--- a/include/qos2.h
+++ b/include/qos2.h
@@ -93,6 +93,8 @@ typedef struct _QOS_VERSION {
     USHORT MinorVersion;
 } QOS_VERSION, *PQOS_VERSION;
 
+BOOL WINAPI QOSCreateHandle(QOS_VERSION *version, HANDLE *handle);
+
 #ifdef __cplusplus
 }
 #endif
-- 
1.9.1

